[debug] [2025-03-28T01:56:32.545Z] ----------------------------------------------------------------------
[debug] [2025-03-28T01:56:32.549Z] Command:       /Users/biswabijayasamal/.nvm/versions/node/v20.18.3/bin/node /Users/biswabijayasamal/.nvm/versions/node/v20.18.3/bin/firebase emulators:start --only functions
[debug] [2025-03-28T01:56:32.549Z] CLI Version:   13.32.0
[debug] [2025-03-28T01:56:32.550Z] Platform:      darwin
[debug] [2025-03-28T01:56:32.550Z] Node Version:  v20.18.3
[debug] [2025-03-28T01:56:32.550Z] Time:          Fri Mar 28 2025 04:56:32 GMT+0300 (Arabian Standard Time)
[debug] [2025-03-28T01:56:32.550Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-03-28T01:56:32.713Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-03-28T01:56:32.713Z] > authorizing via signed-in user (biswabijayasamal@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-03-28T01:56:33.010Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-28T01:56:33.011Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-03-28T01:56:33.013Z] [hub] writing locator at /var/folders/ck/x_kyzk0j3jz57z5lkgxh1mgw0000gq/T/hub-family-history-pedigree.json
[debug] [2025-03-28T01:56:33.320Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-28T01:56:33.320Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-28T01:56:33.320Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-28T01:56:33.320Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-03-28T01:56:33.322Z] defaultcredentials: writing to file /Users/biswabijayasamal/.config/firebase/biswabijayasamal_gmail_com_application_default_credentials.json
[debug] [2025-03-28T01:56:33.323Z] Setting GAC to /Users/biswabijayasamal/.config/firebase/biswabijayasamal_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/biswabijayasamal/.config/firebase/biswabijayasamal_gmail_com_application_default_credentials.json"}}
[debug] [2025-03-28T01:56:33.324Z] Checked if tokens are valid: true, expires at: 1743128171042
[debug] [2025-03-28T01:56:33.324Z] Checked if tokens are valid: true, expires at: 1743128171042
[debug] [2025-03-28T01:56:33.325Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/family-history-pedigree/adminSdkConfig [none]
[debug] [2025-03-28T01:56:33.798Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/family-history-pedigree/adminSdkConfig 200
[debug] [2025-03-28T01:56:33.798Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/family-history-pedigree/adminSdkConfig {"projectId":"family-history-pedigree","storageBucket":"family-history-pedigree.firebasestorage.app"}
[info] i  functions: Watching "/Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend\" for Cloud Functions..."}}
[debug] [2025-03-28T01:56:33.817Z] Validating nodejs source
[debug] [2025-03-28T01:56:34.881Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/dotenv": "^6.1.1",
    "dotenv": "^16.4.7",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/express": "^5.0.1",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.5.0"
  },
  "private": true
}
[debug] [2025-03-28T01:56:34.882Z] Building nodejs source
[debug] [2025-03-28T01:56:34.882Z] Failed to find version of module node: reached end of search path /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules
[info] ✔  functions: Using node@20 from host. 
[debug] [2025-03-28T01:56:34.884Z] Failed to validate key PORT: Error: Key PORT is reserved for internal use.
[debug] [2025-03-28T01:56:34.884Z] Failed to validate key FIREBASE_PROJECT_ID: Error: Key FIREBASE_PROJECT_ID starts with a reserved prefix (X_GOOGLE_ FIREBASE_ EXT_)
[debug] [2025-03-28T01:56:34.884Z] Failed to validate key FIREBASE_STORAGE_BUCKET: Error: Key FIREBASE_STORAGE_BUCKET starts with a reserved prefix (X_GOOGLE_ FIREBASE_ EXT_)
[debug] [2025-03-28T01:56:34.884Z] Failed to validate key FIREBASE_CLIENT_EMAIL: Error: Key FIREBASE_CLIENT_EMAIL starts with a reserved prefix (X_GOOGLE_ FIREBASE_ EXT_)
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load environment variables from .env. {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load environment variables from .env."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-03-28T01:56:51.901Z] File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/package.json changed, reloading triggers"}}
[debug] [2025-03-28T01:56:52.903Z] Validating nodejs source
[debug] [2025-03-28T01:56:54.105Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "hot-serve": "npm run build:watch & firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/dotenv": "^6.1.1",
    "dotenv": "^16.4.7",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/express": "^5.0.1",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.5.0"
  },
  "private": true
}
[debug] [2025-03-28T01:56:54.106Z] Building nodejs source
[debug] [2025-03-28T01:56:54.106Z] Failed to find version of module node: reached end of search path /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules
[info] ✔  functions: Using node@20 from host. 
[debug] [2025-03-28T01:56:54.108Z] Failed to validate key PORT: Error: Key PORT is reserved for internal use.
[debug] [2025-03-28T01:56:54.108Z] Failed to validate key FIREBASE_PROJECT_ID: Error: Key FIREBASE_PROJECT_ID starts with a reserved prefix (X_GOOGLE_ FIREBASE_ EXT_)
[debug] [2025-03-28T01:56:54.108Z] Failed to validate key FIREBASE_STORAGE_BUCKET: Error: Key FIREBASE_STORAGE_BUCKET starts with a reserved prefix (X_GOOGLE_ FIREBASE_ EXT_)
[debug] [2025-03-28T01:56:54.108Z] Failed to validate key FIREBASE_CLIENT_EMAIL: Error: Key FIREBASE_CLIENT_EMAIL starts with a reserved prefix (X_GOOGLE_ FIREBASE_ EXT_)
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Failed to load environment variables from .env. {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Failed to load environment variables from .env."}}
[debug] [2025-03-28T01:59:36.545Z] File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/src/firebase.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/src/firebase.ts changed, reloading triggers"}}
[debug] [2025-03-28T01:59:37.546Z] Validating nodejs source
[debug] [2025-03-28T01:59:38.931Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "hot-serve": "npm run build:watch & firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/dotenv": "^6.1.1",
    "dotenv": "^16.4.7",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/express": "^5.0.1",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.5.0"
  },
  "private": true
}
[debug] [2025-03-28T01:59:38.932Z] Building nodejs source
[debug] [2025-03-28T01:59:38.932Z] Failed to find version of module node: reached end of search path /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules
[info] ✔  functions: Using node@20 from host. 
[debug] [2025-03-28T01:59:38.934Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-28T01:59:38.942Z] Found firebase-functions binary at '/Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules/.bin/firebase-functions'
[info] Serving at port 8838

[debug] [2025-03-28T01:59:39.749Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/family-history-pedigree/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/family-history-pedigree/us-central1/api)."}}
[debug] [2025-03-28T02:00:42.206Z] File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/src/firebase.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/src/firebase.ts changed, reloading triggers"}}
[debug] [2025-03-28T02:00:43.209Z] Validating nodejs source
[debug] [2025-03-28T02:00:44.472Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "hot-serve": "npm run build:watch & firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/dotenv": "^6.1.1",
    "dotenv": "^16.4.7",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/express": "^5.0.1",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.5.0"
  },
  "private": true
}
[debug] [2025-03-28T02:00:44.473Z] Building nodejs source
[debug] [2025-03-28T02:00:44.473Z] Failed to find version of module node: reached end of search path /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules
[info] ✔  functions: Using node@20 from host. 
[debug] [2025-03-28T02:00:44.474Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-28T02:00:44.476Z] Found firebase-functions binary at '/Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules/.bin/firebase-functions'
[info] Serving at port 8423

[debug] [2025-03-28T02:00:44.897Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-28T02:00:54.877Z] File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/src/firebase.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/src/firebase.ts changed, reloading triggers"}}
[debug] [2025-03-28T02:00:55.879Z] Validating nodejs source
[debug] [2025-03-28T02:00:57.015Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "hot-serve": "npm run build:watch & firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/dotenv": "^6.1.1",
    "dotenv": "^16.4.7",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@types/express": "^5.0.1",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.5.0"
  },
  "private": true
}
[debug] [2025-03-28T02:00:57.015Z] Building nodejs source
[debug] [2025-03-28T02:00:57.015Z] Failed to find version of module node: reached end of search path /Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules
[info] ✔  functions: Using node@20 from host. 
[debug] [2025-03-28T02:00:57.016Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-28T02:00:57.017Z] Found firebase-functions binary at '/Users/biswabijayasamal/Documents/GitHub/Family-History-Pedigree-Builder/backend/node_modules/.bin/firebase-functions'
[info] Serving at port 8526

[debug] [2025-03-28T02:00:57.281Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-03-28T02:01:41.175Z] Functions emulator received unknown request at path /
[debug] [2025-03-28T02:01:42.070Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-03-28T02:01:47.666Z] Functions emulator received unknown request at path /api
[debug] [2025-03-28T02:02:44.413Z] Functions emulator received unknown request at path /api/questionnaires
[debug] [2025-03-28T02:02:56.924Z] Functions emulator received unknown request at path /api/questionnaires/
